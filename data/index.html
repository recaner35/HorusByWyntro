<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Horus Control Panel</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffd700">
    <link rel="apple-touch-icon" href="192x192.png">
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;500&display=swap"
        rel="stylesheet">
</head>

<body>

    <!-- Header / Top Bar -->
    <header class="top-bar">
        <div class="logo-container">
            <svg class="logo-svg" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
                <g transform="matrix(1.588836,0,0,1.583917,49.988012,52.379433)">
                    <path
                        d="M125.88,0C56.362,0,0,56.362,0,125.88s56.362,125.88,125.88,125.88s125.88-56.362,125.88-125.88 S195.398,0,125.88,0z M125.88,27.146c24.639,0,47.185,9.05,64.717,23.957l-15.006,23.109l-7.46,11.487l-24.965-42.33 C138.156,22.106,132.126,21.503,125.88,21.503c-57.646,0-104.377,46.731-104.377,104.377s46.731,104.377,104.377,104.377 s104.377-46.731,104.377-104.377c0-26.685-10.155-51.056-26.83-69.456l22.992-35.405 C242.046,45.421,251.76,74.07,251.76,104.887c-0.344,80.122-65.738,145.205-145.86,144.86S-39.095,184.01,38.749,103.887 S183.954-39.095,264.076,38.749c2.09,1.961,4.111,3.999,6.059,6.11l-24.3,37.419c-15.367-17.06-37.49-27.91-61.954-27.91 c-6.621,0-12.986,0.923-19.059,2.639l22.697,38.483l-7.79,11.995L152.091,66.6c-8.25-2.031-16.906-3.13-25.808-3.13 c-28.799,0-54.811,11.751-73.35,30.654l7.086,12.016l-7.079,10.901c15.206-16.711,37.487-27.026,61.763-27.026 c7.846,0,15.466,1.082,22.755,3.105l-25.042,38.56l-7.79,11.995l-7.79-11.995L71.369,91.828c-7.394,10.027-11.791,22.378-11.791,35.698 c0,33.585,27.226,60.811,60.811,60.811s60.811-27.226,60.811-60.811c0-14.771-5.323-28.329-14.157-38.823l12.784-19.686 c11.839,15.22,18.914,34.332,18.914,55.064c0,49.117-39.815,88.932-88.932,88.932s-88.932-39.815-88.932-88.932 c0-21.493,7.629-41.259,20.25-56.634l-7.749-13.141c-14.612,18.66-23.364,42.417-23.364,68.121 c0,60.088,48.706,108.794,108.794,108.794s108.794-48.706,108.794-108.794c0-23.824-7.53-45.992-20.359-63.784L125.88,27.146z"
                        style="fill:var(--text-primary);fill-rule:nonzero;" />
                </g>
            </svg>
            <h1>HORUS</h1>
        </div>
        <div class="header-controls">
            <span id="connectionStatus" class="status-indicator"></span>
            <select id="languageSelect" onchange="changeLanguage()">
                <option value="tr">TR</option>
                <option value="en">EN</option>
                <option value="de">DE</option>
                <option value="ru">RU</option>
                <option value="uk">UK</option>
                <option value="fr">FR</option>
                <option value="it">IT</option>
                <option value="es">ES</option>
                <option value="rm">RM</option>
                <option value="mk">MK</option>
                <option value="sq">SQ</option>
                <option value="bs">BS</option>
                <option value="sr">SR</option>
                <option value="rup">RUP</option>
                <option value="rom">ROM</option>
                <option value="zh">ZH</option>
                <option value="ja">JA</option>
                <option value="az">AZ</option>
            </select>
        </div>
    </header>

    <!-- Main Content Area with Routing -->
    <main id="app">
        <!-- Dashboard Tab -->
        <section id="dashboard" class="tab-content active">
            <div class="card status-card">
                <h2 data-i18n="status">DURUM</h2>
                <div id="statusText" class="status-text">HAZIR</div>
                <button id="toggleBtn" class="btn-large" onclick="toggleSystem()" data-i18n="start">BA≈ûLAT</button>
            </div>
        </section>

        <!-- Devices Tab -->
        <section id="devices" class="tab-content">
            <div class="card">
                <h2 data-i18n="devices">Cƒ∞HAZLAR</h2>
                <div class="control-group">
                    <button class="btn-secondary" onclick="refreshPeers()" data-i18n="scan_devices">TARA</button>
                </div>
                <div id="deviceList" class="list-group">
                    <!-- Peers will be injected here -->
                    <div class="list-item placeholder" data-i18n="no_devices">Cihaz bulunamadƒ±.</div>
                </div>
            </div>
        </section>

        <!-- Network Tab -->
        <section id="network" class="tab-content">
            <div class="card">
                <h2 data-i18n="wifi_settings">Aƒû AYARLARI</h2>
                <div class="control-group">
                    <button class="btn-secondary" onclick="scanWifi()" data-i18n="scan_networks">Aƒülarƒ± Tara</button>
                </div>
                <div id="wifiList" class="list-group">
                    <!-- WiFi networks injected here -->
                </div>
            </div>
        </section>

        <!-- Settings Tab -->
        <section id="settings" class="tab-content">
            <div class="card">
                <h2 data-i18n="settings">AYARLAR</h2>

                <div class="control-group">
                    <label data-i18n="device_name">Cihaz Adƒ±</label>
                    <div style="display:flex; gap:10px;">
                        <input type="text" id="deviceName" placeholder="Horus Device"
                            style="flex:1; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--card-bg); color: var(--text-primary);">
                    </div>
                    <small style="color:var(--text-secondary); display:block; margin-top:5px;">Deƒüi≈üiklik sonrasƒ± cihaz
                        yeniden ba≈ülar.</small>
                </div>

                <div class="control-group">
                    <label><span data-i18n="tpd">TPD (Tur/G√ºn)</span>: <span id="tpdValue">900</span></label>
                    <input type="range" id="tpdPayload" min="600" max="1800" step="50" value="900"
                        oninput="updatesliderLabels()">
                </div>

                <div class="control-group">
                    <label><span data-i18n="duration">Tur S√ºresi (sn)</span>: <span id="durValue">10</span></label>
                    <input type="range" id="durPayload" min="5" max="15" step="1" value="10"
                        oninput="updateSliderLabels()">
                </div>

                <div class="control-group">
                    <label data-i18n="direction">Y√∂n</label>
                    <div class="direction-selector">
                        <button id="dirCW" class="dir-btn" onclick="setDirection(0)">CW</button>
                        <button id="dirCCW" class="dir-btn" onclick="setDirection(1)">CCW</button>
                        <button id="dirBi" class="dir-btn active" onclick="setDirection(2)">Bi-Dir</button>
                    </div>
                </div>

                <div class="control-group">
                    <label data-i18n="firmware_version">Yazƒ±lƒ±m S√ºr√ºm√º</label>
                    <span id="fwVersion" style="color:var(--accent-color); font-weight:bold;">...</span>
                </div>

                <button class="btn-primary" onclick="sendSettings()" data-i18n="save">KAYDET</button>
                <div style="height: 20px;"></div>
                <button class="btn-secondary" onclick="triggerAutoUpdate()" data-i18n="update_software">Yazƒ±lƒ±m
                    G√ºncelle</button>

            </div>
        </section>
    </main>

    <!-- WiFi Password Modal -->
    <div id="wifiModal" class="modal">
        <div class="modal-content" id="wifiConnectCard">
            <span class="close-modal" onclick="closeWifiModal()">&times;</span>
            <h3 id="modalSSID">Network Name</h3>
            <input type="password" id="wifiPass" placeholder="Password">
            <button class="btn-primary" onclick="connectWifi()" data-i18n="connect">Baƒülan</button>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-btn active" onclick="switchTab('dashboard')" id="nav-dashboard">
            <span class="nav-icon">üè†</span>
            <span class="nav-text" data-i18n="dashboard">Panel</span>
        </button>
        <button class="nav-btn" onclick="switchTab('devices')" id="nav-devices">
            <span class="nav-icon">üì±</span>
            <span class="nav-text" data-i18n="devices">Cihazlar</span>
        </button>
        <button class="nav-btn" onclick="switchTab('network')" id="nav-network">
            <span class="nav-icon">Wi-Fi</span>
            <span class="nav-text" data-i18n="network">Aƒü</span>
        </button>
        <button class="nav-btn" onclick="switchTab('settings')" id="nav-settings">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span class="nav-text" data-i18n="settings">Ayarlar</span>
        </button>
    </nav>

    <script src="languages.js"></script>
    <script src="script.js"></script>
</body>

</html>
